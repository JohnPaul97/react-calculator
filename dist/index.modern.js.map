{"version":3,"file":"index.modern.js","sources":["../src/index.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Button, TextField, Grid, Switch } from '@material-ui/core';\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nconst INITIAL_RESULT = 0;\n\nconst DEFAULTS = {\n    backgroundColor: '#7e7e7e',\n    buttonColor: '#46403D',\n    resultLabel: 'result',\n    expressionLabel: 'expression',\n}\n\nconst Calculator = props => {\n    const { backgroundColor, buttonColor, resultLabel, expressionLabel } = props,\n        classes = makeStyles(theme => ({\n            root: {\n                padding: '10px',\n                margin: '10px',\n                width: '50%',\n                backgroundColor: backgroundColor || DEFAULTS.backgroundColor,\n                borderRadius: '10px',\n                border: `1px solid black`,\n                flexGrow: 0,\n                width: '300px'\n            },\n            button: {\n                padding: theme.spacing(1),\n                textAlign: \"center\",\n                color: theme.palette.text.primary,\n                backgroundColor: buttonColor || DEFAULTS.buttonColor,\n                margin: \"5px\"\n            },\n            resultField: {\n                padding: theme.spacing(1),\n                backgroundColor: backgroundColor || DEFAULTS.backgroundColor,\n            },\n            padding: {\n                padding: 'top 10px'\n            }\n        }))()\n        , audio = new Audio(\"https://storage.cloud.google.com/johnpaul-bucket/click2.mp3\");\n\n    const [expression, setExpression] = useState(INITIAL_RESULT);\n    const [result, setResult] = useState(INITIAL_RESULT);\n    const [isPlayingAudio, setIsPlayingAudio] = useState(true);\n\n    const playsAudio = () => {\n        if (isPlayingAudio) {\n            audio.play();\n        }\n    }\n\n    const handleIsPlayingAudio = () => {\n        setIsPlayingAudio(!isPlayingAudio);\n    }\n\n    const handleOnClick = (button) => {\n        playsAudio();\n        const newExpr = expression !== 0 ? `${expression}${button}` : button;\n        setExpression(newExpr);\n    }\n\n    //callback for set expression hook\n    useEffect(() => {\n        updateResult();\n    }, [expression]);\n\n    const handleReset = () => {\n        playsAudio();\n        setExpression(INITIAL_RESULT);\n        setResult(INITIAL_RESULT);\n    }\n\n    const handleEqualOnClick = () => {\n        playsAudio();\n        setExpression(result);\n    }\n\n    const updateResult = () => {\n        let newResult = null;\n\n        try {\n            newResult = eval(expression);\n        }\n        catch (err) {\n            newResult = 'error';\n        }\n\n        setResult(newResult);\n    }\n\n    const handleResultOnchange = (e) => {\n        const { value } = e.target;\n\n        value === '' ? setExpression(0) : setExpression(value);\n    }\n\n    function calculatorButton(value) {\n        return <Button className={classes.button} onClick={() => handleOnClick(value)}>{value}</Button>;\n    }\n\n    function resetButton() {\n        return <Button className={classes.button} onClick={() => handleReset()}>C</Button>;\n    }\n\n    function equalButton() {\n        return <Button className={classes.button} onClick={() => handleEqualOnClick()}>=</Button>;\n    }\n\n    return (\n        <div className={classes.root}>\n            <Grid container spacing={0}>\n                <Grid item xs={12}>\n                    <TextField\n                        className={classes.resultField}\n                        id=\"outlined-helperText\"\n                        label={resultLabel || DEFAULTS.resultLabel}\n                        variant=\"outlined\"\n                        value={result}\n                    />\n                </Grid>\n                <Grid item xs={12}>\n                    <TextField\n                        className={classes.resultField}\n                        id=\"outlined-helperText\"\n                        label={expressionLabel || DEFAULTS.expressionLabel}\n\n                        variant=\"outlined\"\n                        onChange={handleResultOnchange} value={expression}\n                    />\n                    <Switch\n                        checked={isPlayingAudio}\n                        onChange={handleIsPlayingAudio}\n                        name=\"playingAudio\"\n                        inputProps={{ 'aria-label': 'secondary checkbox' }}\n                    />\n                </Grid>\n                <Grid item xs={12}>\n                    {calculatorButton('(')}\n                    {resetButton()}\n                    {calculatorButton(')')}\n                    {/* <img src={collorpallet}/> */}\n                </Grid>\n\n                <Grid item xs={12}>\n                    {calculatorButton(7)}\n                    {calculatorButton(8)}\n                    {calculatorButton(9)}\n                    {calculatorButton('*')}\n                </Grid>\n\n                <Grid item xs={12}>\n                    {calculatorButton(4)}\n                    {calculatorButton(5)}\n                    {calculatorButton(6)}\n                    {calculatorButton('-')}\n                </Grid>\n                <Grid item xs={12}>\n                    {calculatorButton(3)}\n                    {calculatorButton(2)}\n                    {calculatorButton(1)}\n                    {calculatorButton('+')}\n                </Grid>\n                <Grid item xs={12}>\n                    {calculatorButton(0)}\n                    {calculatorButton('.')}\n                    {calculatorButton('/')}\n                    {equalButton()}\n                </Grid>\n            </Grid>\n        </div>\n    )\n};\n\nexport default Calculator;"],"names":["INITIAL_RESULT","DEFAULTS","backgroundColor","buttonColor","resultLabel","expressionLabel","Calculator","props","classes","makeStyles","theme","root","padding","margin","width","borderRadius","border","flexGrow","button","spacing","textAlign","color","palette","text","primary","resultField","audio","Audio","expression","setExpression","useState","result","setResult","isPlayingAudio","setIsPlayingAudio","playsAudio","play","handleIsPlayingAudio","handleOnClick","newExpr","useEffect","updateResult","handleReset","handleEqualOnClick","newResult","eval","err","handleResultOnchange","e","value","target","calculatorButton","resetButton","equalButton"],"mappings":";;;;AAIA,MAAMA,cAAc,GAAG,CAAvB;AAEA,MAAMC,QAAQ,GAAG;AACbC,EAAAA,eAAe,EAAE,SADJ;AAEbC,EAAAA,WAAW,EAAE,SAFA;AAGbC,EAAAA,WAAW,EAAE,QAHA;AAIbC,EAAAA,eAAe,EAAE;AAJJ,CAAjB;;AAOA,MAAMC,UAAU,GAAGC,KAAK,IAAI;AACxB,QAAM;AAAEL,IAAAA,eAAF;AAAmBC,IAAAA,WAAnB;AAAgCC,IAAAA,WAAhC;AAA6CC,IAAAA;AAA7C,MAAiEE,KAAvE;AAAA,QACIC,OAAO,GAAGC,UAAU,CAACC,KAAK,KAAK;AAC3BC,IAAAA,IAAI,EAAE;AACFC,MAAAA,OAAO,EAAE,MADP;AAEFC,MAAAA,MAAM,EAAE,MAFN;AAGFC,MAAAA,KAAK,EAAE,KAHL;AAIFZ,MAAAA,eAAe,EAAEA,eAAe,IAAID,QAAQ,CAACC,eAJ3C;AAKFa,MAAAA,YAAY,EAAE,MALZ;AAMFC,MAAAA,MAAM,EAAG,iBANP;AAOFC,MAAAA,QAAQ,EAAE,CAPR;AAQFH,MAAAA,KAAK,EAAE;AARL,KADqB;AAW3BI,IAAAA,MAAM,EAAE;AACJN,MAAAA,OAAO,EAAEF,KAAK,CAACS,OAAN,CAAc,CAAd,CADL;AAEJC,MAAAA,SAAS,EAAE,QAFP;AAGJC,MAAAA,KAAK,EAAEX,KAAK,CAACY,OAAN,CAAcC,IAAd,CAAmBC,OAHtB;AAIJtB,MAAAA,eAAe,EAAEC,WAAW,IAAIF,QAAQ,CAACE,WAJrC;AAKJU,MAAAA,MAAM,EAAE;AALJ,KAXmB;AAkB3BY,IAAAA,WAAW,EAAE;AACTb,MAAAA,OAAO,EAAEF,KAAK,CAACS,OAAN,CAAc,CAAd,CADA;AAETjB,MAAAA,eAAe,EAAEA,eAAe,IAAID,QAAQ,CAACC;AAFpC,KAlBc;AAsB3BU,IAAAA,OAAO,EAAE;AACLA,MAAAA,OAAO,EAAE;AADJ;AAtBkB,GAAL,CAAN,CAAV,EADd;AAAA,QA2BMc,KAAK,GAAG,IAAIC,KAAJ,CAAU,6DAAV,CA3Bd;AA6BA,QAAM,CAACC,UAAD,EAAaC,aAAb,IAA8BC,QAAQ,CAAC9B,cAAD,CAA5C;AACA,QAAM,CAAC+B,MAAD,EAASC,SAAT,IAAsBF,QAAQ,CAAC9B,cAAD,CAApC;AACA,QAAM,CAACiC,cAAD,EAAiBC,iBAAjB,IAAsCJ,QAAQ,CAAC,IAAD,CAApD;;AAEA,QAAMK,UAAU,GAAG,MAAM;AACrB,QAAIF,cAAJ,EAAoB;AAChBP,MAAAA,KAAK,CAACU,IAAN;AACH;AACJ,GAJD;;AAMA,QAAMC,oBAAoB,GAAG,MAAM;AAC/BH,IAAAA,iBAAiB,CAAC,CAACD,cAAF,CAAjB;AACH,GAFD;;AAIA,QAAMK,aAAa,GAAIpB,MAAD,IAAY;AAC9BiB,IAAAA,UAAU;AACV,UAAMI,OAAO,GAAGX,UAAU,KAAK,CAAf,GAAoB,GAAEA,UAAW,GAAEV,MAAO,EAA1C,GAA8CA,MAA9D;AACAW,IAAAA,aAAa,CAACU,OAAD,CAAb;AACH,GAJD;;AAOAC,EAAAA,SAAS,CAAC,MAAM;AACZC,IAAAA,YAAY;AACf,GAFQ,EAEN,CAACb,UAAD,CAFM,CAAT;;AAIA,QAAMc,WAAW,GAAG,MAAM;AACtBP,IAAAA,UAAU;AACVN,IAAAA,aAAa,CAAC7B,cAAD,CAAb;AACAgC,IAAAA,SAAS,CAAChC,cAAD,CAAT;AACH,GAJD;;AAMA,QAAM2C,kBAAkB,GAAG,MAAM;AAC7BR,IAAAA,UAAU;AACVN,IAAAA,aAAa,CAACE,MAAD,CAAb;AACH,GAHD;;AAKA,QAAMU,YAAY,GAAG,MAAM;AACvB,QAAIG,SAAS,GAAG,IAAhB;;AAEA,QAAI;AACAA,MAAAA,SAAS,GAAGC,IAAI,CAACjB,UAAD,CAAhB;AACH,KAFD,CAGA,OAAOkB,GAAP,EAAY;AACRF,MAAAA,SAAS,GAAG,OAAZ;AACH;;AAEDZ,IAAAA,SAAS,CAACY,SAAD,CAAT;AACH,GAXD;;AAaA,QAAMG,oBAAoB,GAAIC,CAAD,IAAO;AAChC,UAAM;AAAEC,MAAAA;AAAF,QAAYD,CAAC,CAACE,MAApB;AAEAD,IAAAA,KAAK,KAAK,EAAV,GAAepB,aAAa,CAAC,CAAD,CAA5B,GAAkCA,aAAa,CAACoB,KAAD,CAA/C;AACH,GAJD;;AAMA,WAASE,gBAAT,CAA0BF,KAA1B,EAAiC;AAC7B,wBAAO,oBAAC,MAAD;AAAQ,MAAA,SAAS,EAAEzC,OAAO,CAACU,MAA3B;AAAmC,MAAA,OAAO,EAAE,MAAMoB,aAAa,CAACW,KAAD;AAA/D,OAAyEA,KAAzE,CAAP;AACH;;AAED,WAASG,WAAT,GAAuB;AACnB,wBAAO,oBAAC,MAAD;AAAQ,MAAA,SAAS,EAAE5C,OAAO,CAACU,MAA3B;AAAmC,MAAA,OAAO,EAAE,MAAMwB,WAAW;AAA7D,WAAP;AACH;;AAED,WAASW,WAAT,GAAuB;AACnB,wBAAO,oBAAC,MAAD;AAAQ,MAAA,SAAS,EAAE7C,OAAO,CAACU,MAA3B;AAAmC,MAAA,OAAO,EAAE,MAAMyB,kBAAkB;AAApE,WAAP;AACH;;AAED,sBACI;AAAK,IAAA,SAAS,EAAEnC,OAAO,CAACG;AAAxB,kBACI,oBAAC,IAAD;AAAM,IAAA,SAAS,MAAf;AAAgB,IAAA,OAAO,EAAE;AAAzB,kBACI,oBAAC,IAAD;AAAM,IAAA,IAAI,MAAV;AAAW,IAAA,EAAE,EAAE;AAAf,kBACI,oBAAC,SAAD;AACI,IAAA,SAAS,EAAEH,OAAO,CAACiB,WADvB;AAEI,IAAA,EAAE,EAAC,qBAFP;AAGI,IAAA,KAAK,EAAErB,WAAW,IAAIH,QAAQ,CAACG,WAHnC;AAII,IAAA,OAAO,EAAC,UAJZ;AAKI,IAAA,KAAK,EAAE2B;AALX,IADJ,CADJ,eAUI,oBAAC,IAAD;AAAM,IAAA,IAAI,MAAV;AAAW,IAAA,EAAE,EAAE;AAAf,kBACI,oBAAC,SAAD;AACI,IAAA,SAAS,EAAEvB,OAAO,CAACiB,WADvB;AAEI,IAAA,EAAE,EAAC,qBAFP;AAGI,IAAA,KAAK,EAAEpB,eAAe,IAAIJ,QAAQ,CAACI,eAHvC;AAKI,IAAA,OAAO,EAAC,UALZ;AAMI,IAAA,QAAQ,EAAE0C,oBANd;AAMoC,IAAA,KAAK,EAAEnB;AAN3C,IADJ,eASI,oBAAC,MAAD;AACI,IAAA,OAAO,EAAEK,cADb;AAEI,IAAA,QAAQ,EAAEI,oBAFd;AAGI,IAAA,IAAI,EAAC,cAHT;AAII,IAAA,UAAU,EAAE;AAAE,oBAAc;AAAhB;AAJhB,IATJ,CAVJ,eA0BI,oBAAC,IAAD;AAAM,IAAA,IAAI,MAAV;AAAW,IAAA,EAAE,EAAE;AAAf,KACKc,gBAAgB,CAAC,GAAD,CADrB,EAEKC,WAAW,EAFhB,EAGKD,gBAAgB,CAAC,GAAD,CAHrB,CA1BJ,eAiCI,oBAAC,IAAD;AAAM,IAAA,IAAI,MAAV;AAAW,IAAA,EAAE,EAAE;AAAf,KACKA,gBAAgB,CAAC,CAAD,CADrB,EAEKA,gBAAgB,CAAC,CAAD,CAFrB,EAGKA,gBAAgB,CAAC,CAAD,CAHrB,EAIKA,gBAAgB,CAAC,GAAD,CAJrB,CAjCJ,eAwCI,oBAAC,IAAD;AAAM,IAAA,IAAI,MAAV;AAAW,IAAA,EAAE,EAAE;AAAf,KACKA,gBAAgB,CAAC,CAAD,CADrB,EAEKA,gBAAgB,CAAC,CAAD,CAFrB,EAGKA,gBAAgB,CAAC,CAAD,CAHrB,EAIKA,gBAAgB,CAAC,GAAD,CAJrB,CAxCJ,eA8CI,oBAAC,IAAD;AAAM,IAAA,IAAI,MAAV;AAAW,IAAA,EAAE,EAAE;AAAf,KACKA,gBAAgB,CAAC,CAAD,CADrB,EAEKA,gBAAgB,CAAC,CAAD,CAFrB,EAGKA,gBAAgB,CAAC,CAAD,CAHrB,EAIKA,gBAAgB,CAAC,GAAD,CAJrB,CA9CJ,eAoDI,oBAAC,IAAD;AAAM,IAAA,IAAI,MAAV;AAAW,IAAA,EAAE,EAAE;AAAf,KACKA,gBAAgB,CAAC,CAAD,CADrB,EAEKA,gBAAgB,CAAC,GAAD,CAFrB,EAGKA,gBAAgB,CAAC,GAAD,CAHrB,EAIKE,WAAW,EAJhB,CApDJ,CADJ,CADJ;AA+DH,CAhKD;;;;"}